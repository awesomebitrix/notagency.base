# Описание #
Модуль содержит набор часто используемых компонентов на различных проектах. Преимущества данных компонентов по сравнению со стандартными:

1. Компоненты реализуются на основе библиотеки *componentsBase* в которой поддерживаются исключения (exception).

2. Компоненты реализуются через наследование: любой метод компонента может быть переопределен в другом компоненте.

# Установка #

Модуль распространяется через composer.
В корне сайта, где установлен битрикс, необходимо выполнить следующие команды:

```
#!bash

composer config repositories.notagency vcs git@bitbucket.org:notagency/notagency.base.git
composer require notagency/base

```

Модуль должен появится в списке Marketplace->Установленные решения.
Далее следует стандартная процедура установки marketplace-модуля.

# Библиотека componentsBase #

Базовая библиотека для всех компонентов реализованная на основе *CBitrixComponent*. Библиотека поддерживает исключения. В методе executeBase описывается процесс выполнения методов компонента в следующем порядке:


```
#!php

$this->includeModules(); //подключает необходимые модули указанные в массиве атрибута класса $needModules. Публичный метод.
$this->checkParams(); //проверка параметров компонента, указанных в массиве атрибута класса $checkParams. Приватный метод.
$this->startAjax(); //перезапуск буфера вывода, если производится аякс-запрос. Приватный метод.
$this->executeProlog(); //метод для переопределения. Выполняет пролог компонента. Данные не кешируются.

if ($this->startCache()) { //кеширование
  $this->executeMain(); //метод для переопределения. Основной метод в котором выполняется вся логика компонента.

  if ($this->cacheTemplate) { //в этом атрибуте указывается нужно ли кешировать шаблона компонента
    $this->showResult(); //подключает шаблон компонента. Публичный метод.
  }

  $this->writeCache(); //алиас для стандартного метода endResultCache() Публичный метод.
}

if (!$this->cacheTemplate) { //в случае если не требуется кеширование шаблона
  $this->showResult();
}
        
$this->executeEpilog(); //метод для переопределения. Выполняет эпилог компонента. Данные не кешируются.
$this->stopAjax(); //останавливает выполнение скрипта, если аякс запрос.

```